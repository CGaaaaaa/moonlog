// MoonLog é«˜çº§ä½¿ç”¨ç¤ºä¾‹
// æ¼”ç¤ºå®Œæ•´çš„Loggeré…ç½®å’Œè‡ªå®šä¹‰Appender

// æ³¨æ„ï¼šè¿™ä¸ªdemoç›®å‰æ— æ³•è¿è¡Œï¼Œå› ä¸ºéœ€è¦å¯¼å…¥çš„åŒ…ä¸­æ— æ³•ç›´æ¥åˆ›å»ºæšä¸¾å€¼
// è¿™é‡Œä½œä¸ºAPIä½¿ç”¨ç¤ºä¾‹ï¼Œå±•ç¤ºå®Œæ•´çš„åŠŸèƒ½

///|
fn advanced_demo() -> Unit {
  println("ğŸŒ™ MoonLog é«˜çº§é…ç½®ç¤ºä¾‹ï¼ˆä»£ç å‚è€ƒï¼‰")
  println("==================================================")

  // åœ¨å®é™…ä½¿ç”¨ä¸­ï¼Œè¿™äº›ä»£ç åº”è¯¥åœ¨åŒä¸€ä¸ªåŒ…å†…ï¼Œæˆ–è€…é€šè¿‡åŒ…æä¾›çš„å·¥å‚å‡½æ•°åˆ›å»º

  // === 1. åˆ›å»ºå¸¦Appenderçš„Logger ===
  // let logger_with_output = Logger::new(LogLevel::Debug, "myapp")
  //   .add_appender(StdoutAppender::with_config(true, true))
  // 
  // è®¾ç½®ä¸ºå…¨å±€Loggerï¼Œè¿™æ ·å°±èƒ½çœ‹åˆ°è¾“å‡ºäº†
  // set_global_logger(logger_with_output)
  // 
  // info("ç°åœ¨å¯ä»¥çœ‹åˆ°æ—¥å¿—è¾“å‡ºäº†ï¼")
  // debug_with_fields("ç”¨æˆ·æ“ä½œ", [
  //   field_str("action", "login"),
  //   field_str("user", "alice")
  // ])

  // === 2. æ¨¡å—åŒ–Loggerç¤ºä¾‹ ===
  // let auth_logger = Logger::new(LogLevel::Info, "auth")
  //   .add_appender(StdoutAppender::with_config(true, true))
  //   
  // let db_logger = Logger::new(LogLevel::Debug, "database") 
  //   .add_appender(StdoutAppender::with_config(false, true))
  //   
  // auth_logger.log(LogLevel::Info, "è®¤è¯å¼€å§‹", [])
  // db_logger.log(LogLevel::Debug, "æ‰§è¡ŒæŸ¥è¯¢", [
  //   field_str("sql", "SELECT * FROM users")
  // ])

  // === 3. åŠ¨æ€çº§åˆ«è°ƒæ•´ ===
  // è¿è¡Œæ—¶è°ƒæ•´å…¨å±€çº§åˆ«
  // set_global_level(LogLevel::Trace)
  // trace("ç°åœ¨traceçº§åˆ«ä¹Ÿä¼šè¾“å‡º")
  // 
  // set_global_level(LogLevel::Error) 
  // info("è¿™æ¡ä¸ä¼šè¾“å‡º") 
  // error("è¿™æ¡ä¼šè¾“å‡º")

  println("ğŸ’¡ å®Œæ•´ä»£ç è¯·å‚è€ƒä¸»åŒ…ä¸­çš„æµ‹è¯•æ–‡ä»¶")
  println(
    "   è¿™äº›åŠŸèƒ½éœ€è¦åœ¨ä¸»åŒ…å†…ä½¿ç”¨ï¼Œæˆ–é€šè¿‡å·¥å‚å‡½æ•°åˆ›å»º",
  )
}
