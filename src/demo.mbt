// MoonLog æ¼”ç¤ºç¨‹åº
//
// è¿™ä¸ªç¨‹åºå±•ç¤ºäº†moonlogåº“çš„ä¸»è¦åŠŸèƒ½

///| è¿è¡ŒMoonLogæ¼”ç¤º
pub fn demo() -> Unit {
  println("ğŸŒ™ MoonLog æ—¥å¿—åº“æ¼”ç¤º")
  println("===================")

  // åŸºæœ¬çš„å…¨å±€æ—¥å¿—
  println("\n1. åŸºæœ¬å…¨å±€æ—¥å¿—:")
  info_msg("åº”ç”¨ç¨‹åºå¯åŠ¨")
  warn_msg("è¿™æ˜¯ä¸€ä¸ªè­¦å‘Š")
  error_msg("è¿™æ˜¯ä¸€ä¸ªé”™è¯¯")

  // ç»“æ„åŒ–æ—¥å¿—
  println("\n2. ç»“æ„åŒ–æ—¥å¿—:")
  let user_fields : Array[LogField] = [
    field_str("user_id", "12345"),
    field_str("username", "alice"),
    field_int("age", 25),
    field_bool("is_admin", true),
  ]
  info("ç”¨æˆ·ç™»å½•äº‹ä»¶", user_fields)

  // æ ¼å¼åŒ–æ—¥å¿—
  println("\n3. æ ¼å¼åŒ–æ—¥å¿—:")
  infof("ç”¨æˆ· {} åœ¨ {} ç™»å½•", ["alice", "2023-12-28 10:30:00"])
  errorf("è¿æ¥å¤±è´¥ï¼Œé‡è¯•æ¬¡æ•°: {}", ["3"])

  // é…ç½®æ¼”ç¤º
  println("\n4. å½©è‰²æ—¥å¿—æ¼”ç¤º:")
  configure_colored_console()
  info_msg("è¿™æ˜¯å½©è‰²çš„Infoæ¶ˆæ¯")
  warn_msg("è¿™æ˜¯å½©è‰²çš„Warnæ¶ˆæ¯")
  error_msg("è¿™æ˜¯å½©è‰²çš„Erroræ¶ˆæ¯")
  println("\n5. JSONæ ¼å¼æ¼”ç¤º:")
  configure_json_console()
  info("JSONæ ¼å¼çš„ç»“æ„åŒ–æ—¥å¿—", [
    field_str("service", "auth"),
    field_int("user_id", 123),
    field_bool("success", true),
  ])
  println("\n6. çº§åˆ«è¿‡æ»¤æ¼”ç¤º:")
  set_global_level(LogLevel::Warn)
  info_msg("è¿™æ¡Infoæ¶ˆæ¯ä¸ä¼šæ˜¾ç¤º")
  warn_msg("è¿™æ¡Warnæ¶ˆæ¯ä¼šæ˜¾ç¤º")
  error_msg("è¿™æ¡Erroræ¶ˆæ¯ä¼šæ˜¾ç¤º")

  // æ¢å¤ç®€å•æ§åˆ¶å°
  println("\n7. æ¢å¤ç®€å•æ ¼å¼:")
  configure_simple_console()
  info_msg("æ¢å¤åˆ°ç®€å•æ ¼å¼")
  println("\nâœ¨ æ¼”ç¤ºå®Œæˆï¼")
}
